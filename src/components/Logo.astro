---
interface Props {
  text?: string;
  image?: string;
  size?: "sm" | "md" | "lg";
}

const { text, image, size = "md" } = Astro.props;

const sizeClasses = {
  sm: "h-10 text-lg px-3",
  md: "h-16 text-4xl px-5",
  lg: "h-24 text-6xl px-7",
};

const isImage = image && !text;
---

<div class="mb-3 flex justify-center">
  <div
    class={`logo-container group relative overflow-visible rounded-2xl shadow-lg transition-all hover:shadow-xl hover:scale-110 flex items-center justify-center ${sizeClasses[size]}`}
    style={`background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 50%, var(--primary-700) 100%);`}
  >
    <!-- Animated orbiting particles -->
    <div class="absolute inset-0 rounded-2xl overflow-hidden">
      <div class="orbit orbit-1"></div>
      <div class="orbit orbit-2"></div>
    </div>

    <!-- Animated gradient background -->
    <div
      class="absolute inset-0 rounded-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-300"
      style="background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.4) 50%, transparent 70%); background-size: 200% 200%;"
    >
    </div>

    <!-- Particle dots pattern -->
    <div
      class="absolute inset-0 rounded-3xl opacity-10 group-hover:opacity-25 transition-opacity duration-300"
      style="background-image: radial-gradient(circle at 1px 1px, white 1.5px, transparent 1.5px); background-size: 15px 15px;"
    >
    </div>

    <!-- Content -->
    <div class="relative flex h-full w-full items-center justify-center z-10">
      {
        isImage && image ? (
          <img
            src={image}
            alt="Logo"
            class="h-full w-full object-cover rounded-2xl animate-image-glow"
          />
        ) : text ? (
          <div
            class="logo-text font-black tracking-tighter transition-all duration-300 group-hover:scale-110 animate-text-pulse"
            style={{
              color: "white",
              textShadow:
                "0 8px 16px rgba(0, 0, 0, 0.4), 0 0 30px rgba(255, 255, 255, 0.3), 0 0 60px rgba(var(--primary-rgb, 16 185 129), 0.3)",
              fontFamily: "'Segoe UI', 'Helvetica Neue', sans-serif",
              letterSpacing: "-0.03em",
              fontWeight: "900",
            }}
          >
            {text}
          </div>
        ) : (
          <span class="text-5xl drop-shadow-2xl group-hover:scale-125 transition-transform duration-300 animate-emoji-dance">
            ðŸ“¡
          </span>
        )
      }
    </div>

    <!-- Inner glow effect -->
    <div
      class="absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"
      style="box-shadow: inset 0 0 30px rgba(255,255,255,0.3), 0 0 30px rgba(var(--primary-rgb, 16 185 129), 0.5);"
    >
    </div>

    <!-- Top light reflection -->
    <div
      class="absolute -top-1/4 left-1/3 w-1/2 h-full rounded-full opacity-0 group-hover:opacity-30 transition-opacity duration-500 blur-3xl pointer-events-none"
      style="background: radial-gradient(ellipse, rgba(255,255,255,0.8), transparent 70%);"
    >
    </div>

    <!-- Bottom glow -->
    <div
      class="absolute -bottom-1/4 right-1/4 w-2/3 h-2/3 rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-500 blur-3xl pointer-events-none"
      style="background: radial-gradient(ellipse, rgba(var(--primary-rgb, 16 185 129), 0.6), transparent 70%);"
    >
    </div>
  </div>
</div>

<style>
  .logo-container {
    position: relative;
    backdrop-filter: blur(10px);
  }

  .logo-text {
    line-height: 1;
    position: relative;
  }

  /* Orbiting particles */
  .orbit {
    position: absolute;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .orbit-1 {
    width: 140%;
    height: 140%;
    animation: orbitSpin 8s linear infinite;
  }

  .orbit-2 {
    width: 170%;
    height: 170%;
    animation: orbitSpin 12s linear infinite reverse;
    opacity: 0.6;
  }

  @keyframes orbitSpin {
    from {
      transform: translate(-50%, -50%) rotate(0deg);
    }
    to {
      transform: translate(-50%, -50%) rotate(360deg);
    }
  }

  /* Text animations */
  @keyframes textPulse {
    0% {
      transform: translateY(0px);
      filter: brightness(1);
    }
    25% {
      transform: translateY(-2px);
      filter: brightness(1.04);
    }
    50% {
      transform: translateY(-4px);
      filter: brightness(1.1) drop-shadow(0 0 12px rgba(255, 255, 255, 0.5));
    }
    75% {
      transform: translateY(-2px);
      filter: brightness(1.04);
    }
    100% {
      transform: translateY(0px);
      filter: brightness(1);
    }
  }

  .animate-text-pulse {
    animation: textPulse 3s ease-in-out infinite;
  }

  /* Emoji animations */
  @keyframes emojiDance {
    0%,
    100% {
      transform: scale(1) rotate(0deg) translateY(0);
    }
    25% {
      transform: scale(1.1) rotate(5deg) translateY(-8px);
    }
    50% {
      transform: scale(1.05) rotate(0deg) translateY(0);
    }
    75% {
      transform: scale(1.1) rotate(-5deg) translateY(-8px);
    }
  }

  .animate-emoji-dance {
    animation: emojiDance 2.5s cubic-bezier(0.36, 0, 0.66, 1) infinite;
  }

  /* Image glow */
  @keyframes imageGlow {
    0%,
    100% {
      filter: brightness(1)
        drop-shadow(0 0 10px rgba(var(--primary-rgb, 16 185 129), 0.4));
    }
    50% {
      filter: brightness(1.05)
        drop-shadow(0 0 20px rgba(var(--primary-rgb, 16 185 129), 0.7));
    }
  }

  .animate-image-glow {
    animation: imageGlow 3s ease-in-out infinite;
  }

  /* Hover glow effect */
  .logo-container:hover {
    filter: drop-shadow(0 20px 50px rgba(var(--primary-rgb, 16 185 129), 0.4));
  }

  /* Responsive adjustments */
  @media (prefers-reduced-motion: reduce) {
    .animate-text-pulse,
    .animate-emoji-dance,
    .animate-image-glow,
    .orbit {
      animation: none;
    }
  }
</style>
